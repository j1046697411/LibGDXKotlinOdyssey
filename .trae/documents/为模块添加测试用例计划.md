# 为模块添加测试用例计划

## 1. 测试框架和模式

- 使用现有的 JUnit 5 + MockK 测试框架
- 遵循现有测试用例的模式和结构
- 每个模块创建独立的测试类
- 测试用例应覆盖正常流程和异常情况

## 2. 测试模块列表

### 2.1 核心模块 (Core)
- 测试 Named 组件
- 测试 OwnedBy 关系

### 2.2 物品系统 (Item)
- 测试物品预制体创建和管理
- 测试物品实例化
- 测试物品堆叠和数量管理
- 测试物品转移和交易
- 测试物品拆分

### 2.3 货币系统 (Money)
- 测试货币组件
- 测试货币转移
- 测试余额检查

### 2.4 其他模块
- Alchemy 系统
- Attribute 系统
- Character 系统
- Countdown 系统
- Formula 系统
- Goap 系统
- Inventory 系统
- Leveling 系统
- Sects 系统

## 3. 测试用例实现步骤

1. **创建 ItemServiceTest.kt** - 为物品系统添加测试用例
2. **创建 MoneyServiceTest.kt** - 为货币系统添加测试用例
3. **创建 CoreTest.kt** - 为核心模块添加测试用例
4. **创建其他模块的测试用例** - 按照模块列表依次创建

## 4. 测试用例设计原则

- 每个测试方法只测试一个功能
- 使用描述性的方法名
- 包含正常情况和异常情况
- 验证所有重要的状态变化
- 使用断言验证结果
- 保持测试用例的独立性

## 5. 预期结果

- 所有模块都有全面的测试覆盖
- 测试用例通过
- 提高代码质量和可维护性
- 便于后续功能扩展和重构